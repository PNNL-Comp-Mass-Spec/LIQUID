<RibbonWindow x:Class="Liquid.View.SingleTargetWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:oxy="http://oxyplot.codeplex.com"
        xmlns:controls="clr-namespace:Liquid.Controls"
        xmlns:liquid="clr-namespace:Liquid"
        Title="Liquid: Lipid Informed Quantitation and Identification" Height="815" Width="1075">
    <Grid x:Name="MainGrid">
        <StackPanel Height="Auto" Width="Auto" HorizontalAlignment="Left">
            <Ribbon x:Name="RibbonWin" SelectedIndex="1" Height="45">
                <Ribbon.ApplicationMenu>
                    <RibbonApplicationMenu KeyTip="F">
                        <RibbonApplicationMenu.SmallImageSource>
                            <DrawingImage>
                                <DrawingImage.Drawing>
                                    <GlyphRunDrawing ForegroundBrush="White">
                                        <GlyphRunDrawing.GlyphRun>
                                            <GlyphRun
                            CaretStops="{x:Null}" 
                            ClusterMap="{x:Null}" 
                            IsSideways="False" 
                            GlyphOffsets="{x:Null}" 
                            GlyphIndices="41 76 79 72" 
                            FontRenderingEmSize="12" 
                            DeviceFontName="{x:Null}" 
                            AdvanceWidths="5.859375 2.90625 2.90625 6.275390625">
                                                <GlyphRun.GlyphTypeface>
                                                    <GlyphTypeface FontUri="C:\WINDOWS\Fonts\SEGOEUI.TTF"/>
                                                </GlyphRun.GlyphTypeface>
                                            </GlyphRun>
                                        </GlyphRunDrawing.GlyphRun>
                                    </GlyphRunDrawing>
                                </DrawingImage.Drawing>
                            </DrawingImage>
                        </RibbonApplicationMenu.SmallImageSource>
                        <RibbonApplicationMenuItem Header="Open File" Click="RawFileButtonClick" ImageSource="..\Images\open-file-icon_32x32.png">
                        </RibbonApplicationMenuItem>
                        <RibbonApplicationMenuItem Header="Load Previous IDs" Click="LoadIdentificationsFileButtonClick" ImageSource="..\Images\open-file-icon_32x32.png">
                        </RibbonApplicationMenuItem>
                    </RibbonApplicationMenu>
                </Ribbon.ApplicationMenu>
                <RibbonTab Name="InformedRibbonTab" Header="Single Target" KeyTip="S">
                </RibbonTab>
                <RibbonTab Name="GloblWorkflowRibbonTab" Header="Global Analysis" KeyTip="G">
                </RibbonTab>
            </Ribbon>
            <StackPanel Height="Auto" Width="Auto" HorizontalAlignment="Left">
                <DockPanel Height="Auto" Width="Auto" FlowDirection="LeftToRight">
                    <!--Button Content="Open File" Click="RawFileButtonClick" Height="23" HorizontalAlignment="Left" Name="RawFileButton" VerticalAlignment="Top" Width="60" /-->
                    <TextBlock Height="23" HorizontalAlignment="Left" Margin="5,3,0,0" Name="RawFileLocationTextBlock" Text="{Binding Path=RawFileName, StringFormat='File Loaded: {0}'}" VerticalAlignment="Top" Width="Auto" Visibility="Visible" />
                </DockPanel>
                <DockPanel Height="Auto" Width="Auto" FlowDirection="LeftToRight">
                    <StackPanel Height="Auto" Width="Auto" HorizontalAlignment="Left">
                        <DockPanel Height="Auto" Width="Auto" FlowDirection="LeftToRight">
                            <TextBlock Height="23" HorizontalAlignment="Left" Margin="5,5,0,0" Name="HcdErrorTextBlock" Text="HCD Mass Error:" VerticalAlignment="Top" Width="100" />
                            <TextBox Text="30" Height="23" HorizontalAlignment="Left" Margin="5,3,0,0" Name="HcdErrorTextBox" VerticalAlignment="Top" Width="50" />
                        </DockPanel>
                        <DockPanel Height="Auto" Width="Auto" FlowDirection="LeftToRight">
                            <TextBlock Height="23" HorizontalAlignment="Left" Margin="5,5,0,0" Name="CidErrorTextBlock" Text="CID Mass Error:" VerticalAlignment="Top" Width="100" />
                            <TextBox Text="500" Height="23" HorizontalAlignment="Left" Margin="5,3,0,0" Name="CidErrorTextBox" VerticalAlignment="Top" Width="50" />
                        </DockPanel>
                        <DockPanel Height="Auto" Width="Auto" FlowDirection="LeftToRight">
                            <TextBlock Height="23" HorizontalAlignment="Left" Margin="5,5,0,0" Name="FragmentationModeTextBlock" Text="Ionization Mode:" VerticalAlignment="Top" Width="100" />
                            <ComboBox ItemsSource="{Binding FragmentationModeList}" Height="23" HorizontalAlignment="Left" Margin="5,3,0,0" Name="FragmentationModeComboBox" VerticalAlignment="Top" Width="110" />
                        </DockPanel>
                        <StackPanel Height="Auto" Width="Auto" HorizontalAlignment="Left" Visibility="{Binding IsSelected, Converter={StaticResource BooleanToVisibilityConverter}, ElementName=InformedRibbonTab}">
                            <DockPanel Height="Auto" Width="Auto" FlowDirection="LeftToRight">
                                <TextBlock Height="23" HorizontalAlignment="Left" Margin="5,5,0,0" Name="CommonNameTextBlock" Text="Common Name:" VerticalAlignment="Top" Width="100" />
                                <TextBox Text="PE(18:3/20:5)" Height="23" HorizontalAlignment="Left" Margin="5,3,0,0" Name="CommonNameTextBox" VerticalAlignment="Top" Width="110" />
                            </DockPanel>
                            <DockPanel Height="Auto" Width="Auto" FlowDirection="LeftToRight">
                                <TextBlock Height="23" HorizontalAlignment="Left" Margin="5,5,0,0" Name="AdductTextBlock" Text="Adduct:" VerticalAlignment="Top" Width="100" />
                                <ComboBox ItemsSource="{Binding AdductList}" Height="23" HorizontalAlignment="Left" Margin="5,3,0,0" Name="AdductComboBox" VerticalAlignment="Top" Width="110" />
                            </DockPanel>

                            <DockPanel Height="Auto" Width="Auto" FlowDirection="LeftToRight">
                                <Button Content="Search For Target!" Click="SearchForTargetButtonClick" Height="23" HorizontalAlignment="Center" Name="SearchForTargetButton" VerticalAlignment="Top" Width="120" Margin="0,5,0,0" DockPanel.Dock="Right" IsEnabled="False" />
                            </DockPanel>
                            <StackPanel Height="Auto" Width="Auto" HorizontalAlignment="Center">
                                <DockPanel Height="Auto" Width="Auto" FlowDirection="LeftToRight">
                                    <TextBox Name="EmpiricalFormulaTextBlock" Width="Auto" FontWeight="Bold" Text="  Formula:" Margin="0,5,0,0" Style="{StaticResource SelectableTextBlockLikeStyle}" />
                                    <RichTextBox Name="EmpiricalFormulaRichTextBlock" FontWeight="Bold" Width="160" Margin="0,5,0,0" Style="{StaticResource SelectableRichTextBlockLikeStyle}"></RichTextBox>
                                </DockPanel>
                                <TextBox Name="TargetMzTextBlock" Width="Auto" FontWeight="Bold" Text="{Binding Path=CurrentLipidTarget.MzRounded, StringFormat='  Target m/z: {0}', Mode=OneWay}" Margin="0,5,0,0" Style="{StaticResource SelectableTextBlockLikeStyle}" />
                                <TextBlock Name="NumberOfResultsTextBlock" Width="Auto" FontWeight="Bold" Text="{Binding Path=SpectrumSearchResultList.Count, StringFormat='  # of Results: {0}'}" Margin="0,5,0,0" />
                                <DataGrid Name="SpectrumSearchResultsDataGrid" ItemsSource="{Binding Path=SpectrumSearchResultList, Mode=OneWay}" SelectionChanged="SpectrumSearchResultSelectionChange" Height="Auto" MaxHeight="350" Width="Auto" AutoGenerateColumns="False" HeadersVisibility="Column" SelectionMode="Single" Margin="5,5,0,0" HorizontalAlignment="Left">
                                    <DataGrid.Columns>
                                        <DataGridTextColumn Header="Precursor" Binding="{Binding Path=PrecursorSpectrum.ScanNum, Mode=OneWay}" Width="110" />
                                        <DataGridTextColumn Header="Apex" Binding="{Binding Path=ApexScanNum, Mode=OneWay}" Width="110" />
                                    </DataGrid.Columns>
                                </DataGrid>
                            </StackPanel>
                        </StackPanel>
                        <StackPanel Height="Auto" Width="Auto" HorizontalAlignment="Left" Visibility="{Binding IsSelected, Converter={StaticResource BooleanToVisibilityConverter}, ElementName=GloblWorkflowRibbonTab}">
                            <DockPanel Height="Auto" Width="Auto" FlowDirection="LeftToRight" Margin="0,5,0,0">
                                <Button Content="Load Lipid Targets" Click="LoadTargetsFileButtonClick" Height="23" HorizontalAlignment="Left" Name="LoadTargetsButton" VerticalAlignment="Top" Width="110" Margin="5,0,0,0" />
                                <ProgressBar Height="23" HorizontalAlignment="Left" Margin="5,0,0,0" Name="LipidTargetsProgressBar" VerticalAlignment="Top" Width="100" Value="{Binding LipidTargetLoadProgress, Mode=OneWay}" />
                            </DockPanel>
                            <TextBlock Name="NumberOfTargetsTextBlock" Width="Auto" FontWeight="Bold" Text="{Binding Path=LipidTargetList.Count, StringFormat='  # of Targets: {0}'}" Margin="0,5,0,0" DockPanel.Dock="Left" />
                            <DockPanel Height="Auto" Width="Auto" FlowDirection="LeftToRight">
                                <TextBlock Height="23" HorizontalAlignment="Left" Margin="5,5,0,0" Name="ResultsPerScanTextBlock" Text="Results Per Scan:" VerticalAlignment="Top" Width="105" />
                                <TextBox Text="1" Height="23" HorizontalAlignment="Left" Margin="5,3,0,0" Name="ResultsPerScanTextBox" VerticalAlignment="Top" Width="30" />
                            </DockPanel>
                            <DockPanel Height="Auto" Width="Auto" FlowDirection="LeftToRight" Margin="0,0,0,0">
                                <Button Content="Process Targets!" Click="ProcessAllTargetsButtonClick" Height="23" HorizontalAlignment="Left" Name="ProcessAllTargetsButton" VerticalAlignment="Top" Width="110" Margin="5,5,0,0" IsEnabled="False" />
                                <ProgressBar Height="23" HorizontalAlignment="Left" Margin="5,5,0,0" Name="GlobalWorkflowProgressBar" VerticalAlignment="Top" Width="100" Value="{Binding GlobalWorkflowProgress, Mode=OneWay}" />
                            </DockPanel>
                            <DataGrid Name="LipidGroupSearchResultsDataGrid" ItemsSource="{Binding Path=LipidGroupSearchResultList, Mode=OneWay}" SelectionChanged="LipidGroupSearchResultSelectionChange" Height="Auto" MaxHeight="437" Width="262" AutoGenerateColumns="False" HeadersVisibility="Column" SelectionMode="Single" Margin="5,5,0,0" HorizontalAlignment="Left">
                                <DataGrid.Columns>
                                    <DataGridCheckBoxColumn Binding="{Binding Path=ShouldExport, Mode=TwoWay}" />
                                    <DataGridTextColumn Header="Scan" Binding="{Binding Path=SpectrumSearchResult.HcdSpectrum.ScanNum, Mode=OneWay}" Width="40" />
                                    <DataGridTextColumn Header="Lipid" Binding="{Binding Path=LipidTarget.StrippedDisplay, Mode=OneWay, StringFormat=0}" Width="133" />
                                    <!--DataGridTextColumn Header="# MS/MS" Binding="{Binding Path=SpectrumSearchResult.NumMatchingMsMsPeaks, StringFormat=0}" Width="60" /-->
                                    <DataGridTextColumn Header="Score" Binding="{Binding Path=Score, StringFormat=0.00}" Width="50" />
                                </DataGrid.Columns>
                            </DataGrid>
                            <Button Content="Export Selected Results" Click="ExportGlobalResultsButtonClick" Height="23" HorizontalAlignment="Center" Name="ExportGlobalResultsButton" VerticalAlignment="Top" Width="140" Margin="0,5,0,0" />
                            <Button Content="Export All Results" Click="ExportAllGlobalResultsButtonClick" Height="23" HorizontalAlignment="Center" Name="ExportAllGlobalResultsButton" VerticalAlignment="Top" Width="140" Margin="0,5,0,0" />
                        </StackPanel>
                    </StackPanel>
                    <controls:MsMsInfoUserControl x:Name="MsMsInfoUserControl"></controls:MsMsInfoUserControl>
                    <controls:MsOneInfoUserControl x:Name="MsOneInfoUserControl"></controls:MsOneInfoUserControl>
                </DockPanel>
            </StackPanel>
        </StackPanel>
    </Grid>
</RibbonWindow>
